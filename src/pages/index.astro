---
import MainLayout from "../layouts/MainLayout.astro";
import Escalation from "../components/Escalation.astro";
import Restriction from "../components/Restriction.astro";
import { getRestrictions } from "../scripts/restriction";

const allRestrictions = getRestrictions();
const title = "Home Page";
---

<MainLayout title={title}>
	<Escalation />
	<Restriction restriction={allRestrictions.sa1} />
	<Restriction restriction={allRestrictions.sa2} />
	<Restriction restriction={allRestrictions.threshold} />
	<Restriction restriction={allRestrictions.accountStatus} />
	<Restriction restriction={allRestrictions.emailMismatch} />
	<Restriction restriction={allRestrictions.njClient} />
</MainLayout>

<script>
	// Any click on the page will update the result
	import Escalation from "../scripts/escalation";
	document.querySelector("html")!.addEventListener("click", () => {
		Escalation.updateResult();
	});
</script>
